(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,o)=>{t.exports=e.r(76562)},56287,e=>{"use strict";var t=e.i(43476),o=e.i(71645),s=e.i(84515),n=e.i(18566),r=e.i(5766);let i=e=>{let t=new Date(e);return`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()}`};function d(){let e=(0,n.useRouter)(),[d,a]=(0,o.useState)("posts"),[l,p]=(0,o.useState)([]),[x,c]=(0,o.useState)([]),[f,u]=(0,o.useState)(!0),[g,h]=(0,o.useState)(null);(0,o.useEffect)(()=>{(async()=>{let{data:{session:t}}=await s.supabase.auth.getSession();t?.user?(h(t.user.id),b(t.user.id)):e.push("/")})()},[e]);let b=async e=>{u(!0);let{data:t}=await s.supabase.from("hazard_posts").select("*").eq("user_id",e).order("created_at",{ascending:!1});p(t||[]);let{data:o}=await s.supabase.from("hazard_empathies").select(`
        created_at,
        hazard_posts (*)
      `).eq("user_id",e).order("created_at",{ascending:!1});c(o?.map(e=>e.hazard_posts).filter(e=>null!==e)||[]),u(!1)},m=async e=>{if(!window.confirm("æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ\nã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚"))return;let{error:t}=await s.supabase.from("hazard_posts").delete().eq("id",e);t?r.default.error("å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ"):(r.default.success("å‰Šé™¤ã—ã¾ã—ãŸ"),p(t=>t.filter(t=>t.id!==e)))},y=(t,o)=>{e.push(`/?lat=${t}&lng=${o}&zoom=18`)};return(0,t.jsxs)("div",{style:{background:"#f9f9f9",minHeight:"100vh",fontFamily:"sans-serif"},children:[(0,t.jsx)(r.Toaster,{position:"top-center"}),(0,t.jsxs)("header",{style:{background:"#fff",padding:"15px",borderBottom:"1px solid #ddd",display:"flex",alignItems:"center",position:"sticky",top:0,zIndex:10},children:[(0,t.jsx)("button",{onClick:()=>e.push("/"),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",marginRight:"15px"},children:"â†"}),(0,t.jsx)("h1",{style:{margin:0,fontSize:"18px"},children:"ãƒžã‚¤ãƒšãƒ¼ã‚¸"})]}),(0,t.jsxs)("div",{style:{display:"flex",background:"#fff",borderBottom:"1px solid #ddd"},children:[(0,t.jsxs)("button",{onClick:()=>a("posts"),style:{flex:1,padding:"15px",background:"none",border:"none",borderBottom:"posts"===d?"3px solid #0070f3":"none",fontWeight:"posts"===d?"bold":"normal",color:"posts"===d?"#0070f3":"#666",cursor:"pointer"},children:["è‡ªåˆ†ã®æŠ•ç¨¿ (",l.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("empathies"),style:{flex:1,padding:"15px",background:"none",border:"none",borderBottom:"empathies"===d?"3px solid #0070f3":"none",fontWeight:"empathies"===d?"bold":"normal",color:"empathies"===d?"#0070f3":"#666",cursor:"pointer"},children:["å…±æ„Ÿã—ãŸæŠ•ç¨¿ (",x.length,")"]})]}),(0,t.jsx)("div",{style:{padding:"20px",maxWidth:"600px",margin:"0 auto"},children:f?(0,t.jsx)("p",{style:{textAlign:"center",color:"#666",marginTop:"40px"},children:"èª­ã¿è¾¼ã¿ä¸­..."}):(0,t.jsxs)(t.Fragment,{children:["posts"===d&&(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[0===l.length&&(0,t.jsx)("p",{style:{textAlign:"center",color:"#999",marginTop:"20px"},children:"ã¾ã æŠ•ç¨¿ãŒã‚ã‚Šã¾ã›ã‚“"}),l.map(e=>(0,t.jsxs)("div",{style:{background:"#fff",padding:"15px",borderRadius:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,t.jsx)("span",{style:{fontSize:"12px",color:"#999"},children:i(e.created_at)}),(0,t.jsxs)("span",{style:{fontSize:"12px",fontWeight:"bold",color:e.empathy_count>0?"#e02424":"#999",background:e.empathy_count>0?"#ffeaea":"#f0f0f0",padding:"2px 8px",borderRadius:"10px"},children:["ðŸ¤ å…±æ„Ÿ ",e.empathy_count]})]}),(0,t.jsx)("h3",{style:{margin:"0 0 10px 0",fontSize:"18px",color:"#333"},children:e.reason}),(0,t.jsx)("div",{style:{marginBottom:"15px"},children:e.tags?.map(e=>(0,t.jsxs)("span",{style:{display:"inline-block",fontSize:"11px",color:"#555",background:"#f5f5f5",padding:"3px 8px",borderRadius:"4px",marginRight:"5px",marginBottom:"5px"},children:["#",e]},e))}),(0,t.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,t.jsx)("button",{onClick:()=>y(e.lat,e.lng),style:{flex:1,padding:"8px",background:"#0070f3",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:"ðŸ“ åœ°å›³ã§è¦‹ã‚‹"}),(0,t.jsx)("button",{onClick:()=>m(e.id),style:{width:"40px",background:"#fff",color:"#d32f2f",border:"1px solid #ffcdd2",borderRadius:"6px",cursor:"pointer"},children:"ðŸ—‘ï¸"})]})]},e.id))]}),"empathies"===d&&(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[0===x.length&&(0,t.jsx)("p",{style:{textAlign:"center",color:"#999",marginTop:"20px"},children:"ã¾ã å…±æ„ŸãŒã‚ã‚Šã¾ã›ã‚“"}),x.map(e=>(0,t.jsxs)("div",{style:{background:"#fff",padding:"15px",borderRadius:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,t.jsx)("span",{style:{fontSize:"12px",color:"#999"},children:i(e.created_at)}),(0,t.jsxs)("span",{style:{fontSize:"12px",color:"#999"},children:["ID: ",e.id]})]}),(0,t.jsx)("h3",{style:{margin:"0 0 10px 0",fontSize:"18px",color:"#333"},children:e.reason}),(0,t.jsx)("div",{style:{marginBottom:"15px"},children:e.tags?.map(e=>(0,t.jsxs)("span",{style:{display:"inline-block",fontSize:"11px",color:"#555",background:"#f5f5f5",padding:"3px 8px",borderRadius:"4px",marginRight:"5px",marginBottom:"5px"},children:["#",e]},e))}),(0,t.jsx)("button",{onClick:()=>y(e.lat,e.lng),style:{width:"100%",padding:"8px",background:"#fff",color:"#0070f3",border:"1px solid #0070f3",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:"ðŸ“ åœ°å›³ã§ç¢ºèªã™ã‚‹"})]},e.id))]})]})})]})}e.s(["default",()=>d])}]);