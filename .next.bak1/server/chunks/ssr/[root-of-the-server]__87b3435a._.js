module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},30630,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(88045),e=a.i(50944),f=a.i(6704);let g=a=>{let b=new Date(a);return`${b.getFullYear()}/${b.getMonth()+1}/${b.getDate()}`};function h(){let a=(0,e.useRouter)(),[h,i]=(0,c.useState)("posts"),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{let{data:{session:b}}=await d.supabase.auth.getSession();b?.user?(q(b.user.id),r(b.user.id)):a.push("/")})()},[a]);let r=async a=>{o(!0);let{data:b}=await d.supabase.from("hazard_posts").select("*").eq("user_id",a).order("created_at",{ascending:!1});k(b||[]);let{data:c}=await d.supabase.from("hazard_empathies").select(`
        created_at,
        hazard_posts (*)
      `).eq("user_id",a).order("created_at",{ascending:!1});m(c?.map(a=>a.hazard_posts).filter(a=>null!==a)||[]),o(!1)},s=async a=>{if(!window.confirm("æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ\nã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚"))return;let{error:b}=await d.supabase.from("hazard_posts").delete().eq("id",a);b?f.default.error("å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ"):(f.default.success("å‰Šé™¤ã—ã¾ã—ãŸ"),k(b=>b.filter(b=>b.id!==a)))},t=(b,c)=>{a.push(`/?lat=${b}&lng=${c}&zoom=18`)};return(0,b.jsxs)("div",{style:{background:"#f9f9f9",minHeight:"100vh",fontFamily:"sans-serif"},children:[(0,b.jsx)(f.Toaster,{position:"top-center"}),(0,b.jsxs)("header",{style:{background:"#fff",padding:"15px",borderBottom:"1px solid #ddd",display:"flex",alignItems:"center",position:"sticky",top:0,zIndex:10},children:[(0,b.jsx)("button",{onClick:()=>a.push("/"),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",marginRight:"15px"},children:"â†"}),(0,b.jsx)("h1",{style:{margin:0,fontSize:"18px"},children:"ãƒžã‚¤ãƒšãƒ¼ã‚¸"})]}),(0,b.jsxs)("div",{style:{display:"flex",background:"#fff",borderBottom:"1px solid #ddd"},children:[(0,b.jsxs)("button",{onClick:()=>i("posts"),style:{flex:1,padding:"15px",background:"none",border:"none",borderBottom:"posts"===h?"3px solid #0070f3":"none",fontWeight:"posts"===h?"bold":"normal",color:"posts"===h?"#0070f3":"#666",cursor:"pointer"},children:["è‡ªåˆ†ã®æŠ•ç¨¿ (",j.length,")"]}),(0,b.jsxs)("button",{onClick:()=>i("empathies"),style:{flex:1,padding:"15px",background:"none",border:"none",borderBottom:"empathies"===h?"3px solid #0070f3":"none",fontWeight:"empathies"===h?"bold":"normal",color:"empathies"===h?"#0070f3":"#666",cursor:"pointer"},children:["å…±æ„Ÿã—ãŸæŠ•ç¨¿ (",l.length,")"]})]}),(0,b.jsx)("div",{style:{padding:"20px",maxWidth:"600px",margin:"0 auto"},children:n?(0,b.jsx)("p",{style:{textAlign:"center",color:"#666",marginTop:"40px"},children:"èª­ã¿è¾¼ã¿ä¸­..."}):(0,b.jsxs)(b.Fragment,{children:["posts"===h&&(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[0===j.length&&(0,b.jsx)("p",{style:{textAlign:"center",color:"#999",marginTop:"20px"},children:"ã¾ã æŠ•ç¨¿ãŒã‚ã‚Šã¾ã›ã‚“"}),j.map(a=>(0,b.jsxs)("div",{style:{background:"#fff",padding:"15px",borderRadius:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,b.jsx)("span",{style:{fontSize:"12px",color:"#999"},children:g(a.created_at)}),(0,b.jsxs)("span",{style:{fontSize:"12px",fontWeight:"bold",color:a.empathy_count>0?"#e02424":"#999",background:a.empathy_count>0?"#ffeaea":"#f0f0f0",padding:"2px 8px",borderRadius:"10px"},children:["ðŸ¤ å…±æ„Ÿ ",a.empathy_count]})]}),(0,b.jsx)("h3",{style:{margin:"0 0 10px 0",fontSize:"18px",color:"#333"},children:a.reason}),(0,b.jsx)("div",{style:{marginBottom:"15px"},children:a.tags?.map(a=>(0,b.jsxs)("span",{style:{display:"inline-block",fontSize:"11px",color:"#555",background:"#f5f5f5",padding:"3px 8px",borderRadius:"4px",marginRight:"5px",marginBottom:"5px"},children:["#",a]},a))}),(0,b.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,b.jsx)("button",{onClick:()=>t(a.lat,a.lng),style:{flex:1,padding:"8px",background:"#0070f3",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:"ðŸ“ åœ°å›³ã§è¦‹ã‚‹"}),(0,b.jsx)("button",{onClick:()=>s(a.id),style:{width:"40px",background:"#fff",color:"#d32f2f",border:"1px solid #ffcdd2",borderRadius:"6px",cursor:"pointer"},children:"ðŸ—‘ï¸"})]})]},a.id))]}),"empathies"===h&&(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[0===l.length&&(0,b.jsx)("p",{style:{textAlign:"center",color:"#999",marginTop:"20px"},children:"ã¾ã å…±æ„ŸãŒã‚ã‚Šã¾ã›ã‚“"}),l.map(a=>(0,b.jsxs)("div",{style:{background:"#fff",padding:"15px",borderRadius:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,b.jsx)("span",{style:{fontSize:"12px",color:"#999"},children:g(a.created_at)}),(0,b.jsxs)("span",{style:{fontSize:"12px",color:"#999"},children:["ID: ",a.id]})]}),(0,b.jsx)("h3",{style:{margin:"0 0 10px 0",fontSize:"18px",color:"#333"},children:a.reason}),(0,b.jsx)("div",{style:{marginBottom:"15px"},children:a.tags?.map(a=>(0,b.jsxs)("span",{style:{display:"inline-block",fontSize:"11px",color:"#555",background:"#f5f5f5",padding:"3px 8px",borderRadius:"4px",marginRight:"5px",marginBottom:"5px"},children:["#",a]},a))}),(0,b.jsx)("button",{onClick:()=>t(a.lat,a.lng),style:{width:"100%",padding:"8px",background:"#fff",color:"#0070f3",border:"1px solid #0070f3",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:"ðŸ“ åœ°å›³ã§ç¢ºèªã™ã‚‹"})]},a.id))]})]})})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__87b3435a._.js.map