{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/yabea/Desktop/work/next/hazard-map/src/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///Users/yabea/Desktop/work/next/hazard-map/src/components/EmpathyButton.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabaseClient';\nimport toast from 'react-hot-toast';\n\ntype Props = {\n    postId: number;\n    initialCount: number;\n    postUserId: string;\n    onEmpathy?: (newCount: number) => void;\n};\n\nexport default function EmpathyButton({ postId, initialCount, postUserId, onEmpathy }: Props) {\n    const [count, setCount] = useState(initialCount);\n    const [hasEmpathized, setHasEmpathized] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const [myUserId, setMyUserId] = useState<string | null>(null);\n\n    // ‚ñº‚ñº‚ñº ËøΩÂä†: Ë¶™„Éá„Éº„Çø(initialCount)„ÅåÊõ¥Êñ∞„Åï„Çå„Åü„Çâ„ÄÅË°®Á§∫(count)„ÇÇÂêåÊúü„Åô„Çã ‚ñº‚ñº‚ñº\n    useEffect(() => {\n        setCount(initialCount);\n    }, [initialCount]);\n    // ‚ñ≤‚ñ≤‚ñ≤ ËøΩÂä†„Åì„Åì„Åæ„Åß ‚ñ≤‚ñ≤‚ñ≤\n\n    useEffect(() => {\n        const checkStatus = async () => {\n            const {\n                data: { session }\n            } = await supabase.auth.getSession();\n            const userId = session?.user?.id;\n\n            if (userId) {\n                setMyUserId(userId);\n                const { data } = await supabase.from('hazard_empathies').select('id').eq('post_id', postId).eq('user_id', userId).maybeSingle();\n\n                if (data) setHasEmpathized(true);\n            }\n        };\n        checkStatus();\n    }, [postId]);\n\n    const handleClick = async () => {\n        if (myUserId && myUserId === postUserId) {\n            toast('Ëá™ÂàÜ„ÅÆÊäïÁ®ø„Å´„ÅØÂêåÊÑü„Åß„Åç„Åæ„Åõ„Çì', { icon: 'üôÖ‚Äç‚ôÇÔ∏è' });\n            return;\n        }\n\n        setIsLoading(true);\n\n        try {\n            let targetUserId = myUserId;\n\n            if (!targetUserId) {\n                const { data, error } = await supabase.auth.signInAnonymously();\n                if (error || !data.user) {\n                    throw new Error('Ë™çË®º„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');\n                }\n                targetUserId = data.user.id;\n                setMyUserId(targetUserId);\n            }\n\n            if (targetUserId === postUserId) {\n                toast('Ëá™ÂàÜ„ÅÆÊäïÁ®ø„Å´„ÅØÂêåÊÑü„Åß„Åç„Åæ„Åõ„Çì', { icon: 'üôÖ‚Äç‚ôÇÔ∏è' });\n                setIsLoading(false);\n                return;\n            }\n\n            const { error } = await supabase.from('hazard_empathies').insert([{ post_id: postId, user_id: targetUserId }]);\n\n            if (error) {\n                if (error.code === '23505') {\n                    setHasEmpathized(true);\n                    toast('Êó¢„Å´ÂêåÊÑüÊ∏à„Åø„Åß„Åô');\n                } else {\n                    console.error(error);\n                    toast.error('ÈÄö‰ø°„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü');\n                }\n            } else {\n                const newCount = count + 1;\n                setCount(newCount);\n                if (onEmpathy) {\n                    onEmpathy(newCount);\n                }\n                setHasEmpathized(true);\n                toast('ÂêåÊÑü„Åó„Åæ„Åó„ÅüÔºÅ', { icon: '‚úã' });\n            }\n        } catch (err) {\n            console.error(err);\n            toast.error('Âá¶ÁêÜ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div style={{ marginTop: '8px', paddingTop: '8px', borderTop: '1px solid #eee' }}>\n            <button\n                onClick={handleClick}\n                disabled={hasEmpathized || myUserId === postUserId || isLoading}\n                style={{\n                    background: 'none',\n                    border: '1px solid #ddd',\n                    borderRadius: '20px',\n                    padding: '4px 12px',\n                    fontSize: '12px',\n                    color: hasEmpathized ? '#0070f3' : '#555',\n                    backgroundColor: hasEmpathized ? '#e6f7ff' : 'white',\n                    borderColor: hasEmpathized ? '#0070f3' : '#ddd',\n                    cursor: hasEmpathized || myUserId === postUserId ? 'default' : 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '6px',\n                    opacity: isLoading ? 0.7 : 1,\n                    transition: 'all 0.2s'\n                }}\n            >\n                <span>{hasEmpathized ? '‚úã ÂêåÊÑüÊ∏à„Åø' : '‚úã ÂêåÊÑü'}</span>\n                {/* „ÇÇ„ÅóÊï∞Â≠ó„ÇíÊ∂à„Åó„Åü„ÅÑÂ†¥Âêà„ÅØ„ÄÅ‰∏ã„ÅÆË°å„ÇíÂâäÈô§„Åô„Çå„Å∞OK„Åß„Åô */}\n                <span style={{ fontWeight: 'bold' }}>{count}</span>\n            </button>\n\n            {myUserId && myUserId === postUserId && <span style={{ fontSize: '10px', color: '#999', marginLeft: '8px' }}>‚ÄªËá™ÂàÜ„ÅÆÊäïÁ®ø</span>}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///Users/yabea/Desktop/work/next/hazard-map/src/components/HazardMap.tsx"],"sourcesContent":["'use client';\n\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents, useMap, GeoJSON } from 'react-leaflet';\nimport MarkerClusterGroup from 'react-leaflet-cluster';\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet.markercluster/dist/MarkerCluster.css';\nimport 'leaflet.markercluster/dist/MarkerCluster.Default.css';\nimport L from 'leaflet';\nimport { useEffect, useState, useMemo } from 'react';\nimport EmpathyButton from './EmpathyButton';\nimport dynamic from 'next/dynamic';\n\nconst HeatmapLayer = dynamic(() => import('./HeatmapLayer'), { ssr: false });\n\nconst TIME_LABELS: Record<string, string> = {\n    morning: 'üåÖ Êúù',\n    day: '‚òÄÔ∏è Êòº',\n    evening: 'üåÜ Â§ïÊñπ',\n    night: 'üåÉ Â§ú'\n};\n\nconst MAP_STYLES = {\n    standard: {\n        name: 'Ê®ôÊ∫ñ (OSM)',\n        url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    },\n    simple: {\n        name: '„Ç∑„É≥„Éó„É´ (Positron)',\n        url: 'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',\n        attribution:\n            '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> &copy; <a href=\"https://carto.com/attributions\">CARTO</a>'\n    },\n    satellite: {\n        name: 'Ëà™Á©∫ÂÜôÁúü (Esri)',\n        url: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\n        attribution: 'Tiles &copy; Esri &mdash; Source: Esri...'\n    }\n};\n\ntype MapMode = 'standard' | 'simple' | 'satellite';\n\ntype Post = {\n    id: number;\n    lat: number;\n    lng: number;\n    reason: string;\n    tags: string[];\n    time_slot: string[];\n    user_id: string;\n    empathy_count: number;\n    city_code?: string;\n    image_url?: string;\n    // ÁÆ°ÁêÜËÄÖÁî®„ÅÆ„Éó„É≠„Éë„ÉÜ„Ç£„ÅØÂú∞Âõ≥Ë°®Á§∫„Å´„ÅØÂΩ±Èüø„Åï„Åõ„Å™„ÅÑ„Åü„ÇÅÂâäÈô§„ÄÅ„Åæ„Åü„ÅØÁÑ°Ë¶ñ„Åô„Çã\n    admin_display_color?: string;\n    admin_is_white?: boolean;\n};\n\ntype Props = {\n    posts: Post[];\n    centerPos: { lat: number; lng: number };\n    zoomLevel: number;\n    onMapChange?: (lat: number, lng: number, zoom: number) => void;\n    selectedCityId?: string | null;\n    mapMode?: MapMode;\n    currentUserId?: string;\n    isAdmin?: boolean;\n    onPostUpdate?: (postId: number, newCount: number) => void;\n    showHeatmap?: boolean;\n    heatmapRadius?: number;\n    onAdminSelectPost?: (post: Post) => void;\n};\n\n// ‚ñº‚ñº‚ñº ‰øÆÊ≠£: „Ç¢„Ç§„Ç≥„É≥ÁîüÊàê„ÅØÂ∏∏„Å´„ÄåreasonÔºà‰∏çÂÆâÁêÜÁî±Ôºâ„Äç„Å´Âü∫„Å•„ÅèËâ≤„ÅßË°å„ÅÜ ‚ñº‚ñº‚ñº\nconst createCustomIcon = (reason: string, count: number) => {\n    try {\n        // ÈÄöÂ∏∏„ÅÆ„Ç´„ÉÜ„Ç¥„É™Ëâ≤ÂàÜ„Åë\n        let color = 'grey';\n        switch (reason) {\n            case 'Êöó„ÅÑ':\n                color = 'violet';\n                break;\n            case 'Ë¶ãÈÄö„Åó„ÅåÊÇ™„ÅÑ':\n                color = 'gold';\n                break;\n            case '‰∫∫ÈÄö„Çä„ÅåÂ∞ë„Å™„ÅÑ':\n                color = 'blue';\n                break;\n            case 'Ê≠©ÈÅì„ÅåÁã≠„ÅÑ':\n                color = 'green';\n                break;\n            default:\n                color = 'grey';\n                break;\n        }\n\n        const badgeHtml =\n            count > 0\n                ? `<div style=\"position: absolute; top: -6px; right: -6px; background-color: #ff4d4f; color: white; border-radius: 10px; min-width: 20px; height: 20px; padding: 0 4px; display: flex; align-items: center; justify-content: center; font-size: 11px; font-weight: bold; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.3); z-index: 10;\">${\n                      count > 99 ? '99+' : count\n                  }</div>`\n                : '';\n\n        return L.divIcon({\n            className: '',\n            html: `<div style=\"position: relative; width: 25px; height: 41px;\">\n                    <img src=\"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png\" style=\"width: 25px; height: 41px; display: block;\" alt=\"marker\" />\n                    ${badgeHtml}\n                   </div>`,\n            iconSize: [25, 41],\n            iconAnchor: [12, 41],\n            popupAnchor: [1, -34]\n        });\n    } catch (e) {\n        console.error('Icon creation failed', e);\n        return L.icon({\n            iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-grey.png',\n            iconSize: [25, 41],\n            iconAnchor: [12, 41]\n        });\n    }\n};\n\nfunction MapUpdater({ center, zoom }: { center: { lat: number; lng: number }; zoom: number }) {\n    const map = useMap();\n    useEffect(() => {\n        if (!center || isNaN(center.lat) || isNaN(center.lng)) return;\n        const currentCenter = map.getCenter();\n        const currentZoom = map.getZoom();\n        const dist = Math.abs(currentCenter.lat - center.lat) + Math.abs(currentCenter.lng - center.lng);\n        if (dist > 0.000001 || currentZoom !== zoom) {\n            map.flyTo([center.lat, center.lng], zoom, { duration: 1.5 });\n        }\n    }, [center, zoom, map]);\n    return null;\n}\n\nfunction MapController({ onMapChange }: { onMapChange?: (lat: number, lng: number, zoom: number) => void }) {\n    const map = useMapEvents({\n        moveend: () => onMapChange?.(map.getCenter().lat, map.getCenter().lng, map.getZoom()),\n        zoomend: () => onMapChange?.(map.getCenter().lat, map.getCenter().lng, map.getZoom())\n    });\n    return null;\n}\n\nfunction CityBoundary({ cityId }: { cityId: string }) {\n    const [geoData, setGeoData] = useState<any>(null);\n\n    useEffect(() => {\n        if (!cityId) return;\n        setGeoData(null);\n        const url = `https://raw.githubusercontent.com/niiyz/JapanCityGeoJson/master/geojson/11/${cityId}.json`;\n        fetch(url)\n            .then((res) => res.json())\n            .then((data) => setGeoData(data))\n            .catch(console.error);\n    }, [cityId]);\n\n    if (!geoData) return null;\n    return <GeoJSON key={cityId} data={geoData} style={{ color: '#1E90FF', weight: 4, opacity: 0.9, fillColor: '#1E90FF', fillOpacity: 0.15 }} />;\n}\n\nexport default function HazardMap({\n    posts,\n    centerPos,\n    zoomLevel,\n    onMapChange,\n    selectedCityId,\n    mapMode = 'standard',\n    currentUserId,\n    isAdmin = false,\n    onPostUpdate,\n    showHeatmap = false,\n    heatmapRadius = 50,\n    onAdminSelectPost\n}: Props) {\n    const currentMode = mapMode && MAP_STYLES[mapMode] ? mapMode : 'standard';\n    const tileStyle = MAP_STYLES[currentMode];\n\n    const validPosts = useMemo(() => {\n        return posts.filter((p) => p.lat && p.lng && !isNaN(p.lat) && !isNaN(p.lng));\n    }, [posts]);\n\n    const heatPoints: [number, number, number][] = useMemo(() => {\n        return validPosts.map((p) => {\n            const intensity = Math.min(1.0, 0.3 + (p.empathy_count || 0) * 0.1);\n            return [p.lat, p.lng, intensity];\n        });\n    }, [validPosts]);\n\n    const safeCenter = centerPos && !isNaN(centerPos.lat) && !isNaN(centerPos.lng) ? centerPos : { lat: 35.85, lng: 139.5 };\n\n    return (\n        <div style={{ position: 'relative', width: '100%', height: '100%', background: '#e0e0e0' }}>\n            <MapContainer center={[safeCenter.lat, safeCenter.lng]} zoom={zoomLevel} style={{ height: '100%', width: '100%' }}>\n                <TileLayer attribution={tileStyle.attribution} url={tileStyle.url} />\n                {selectedCityId && <CityBoundary cityId={selectedCityId} />}\n\n                {showHeatmap ? (\n                    <HeatmapLayer points={heatPoints} radius={heatmapRadius} />\n                ) : (\n                    <MarkerClusterGroup chunkedLoading>\n                        {validPosts.map((post) => {\n                            // ‚ñº‚ñº‚ñº ‰øÆÊ≠£: ÁÆ°ÁêÜËÄÖ„Åã„Å©„ÅÜ„Åã„Å´„Åã„Åã„Çè„Çâ„Åö„ÄÅÈÄöÂ∏∏„ÅÆ„Ç¢„Ç§„Ç≥„É≥ÁîüÊàê„É≠„Ç∏„ÉÉ„ÇØ„Çí‰ΩøÁî® ‚ñº‚ñº‚ñº\n                            const icon = createCustomIcon(post.reason, post.empathy_count || 0);\n                            const showImage = isAdmin || (currentUserId && post.user_id === currentUserId);\n\n                            return (\n                                <Marker\n                                    key={post.id}\n                                    position={[post.lat, post.lng]}\n                                    icon={icon}\n                                    eventHandlers={{\n                                        click: () => {\n                                            // ÁÆ°ÁêÜËÄÖ„ÅÆÂ†¥Âêà„ÅØË©≥Á¥∞„É¢„Éº„ÉÄ„É´„ÇíÈñã„Åè\n                                            if (isAdmin && onAdminSelectPost) {\n                                                onAdminSelectPost(post);\n                                            }\n                                        }\n                                    }}\n                                >\n                                    <Popup minWidth={200} maxWidth={280}>\n                                        <div style={{ fontFamily: 'sans-serif' }}>\n                                            <div\n                                                style={{\n                                                    fontSize: '16px',\n                                                    fontWeight: 'bold',\n                                                    color: '#333',\n                                                    marginBottom: '8px',\n                                                    paddingBottom: '8px',\n                                                    borderBottom: '1px solid #eee'\n                                                }}\n                                            >\n                                                {post.reason}\n                                            </div>\n                                            {post.image_url && showImage && (\n                                                <div style={{ marginBottom: '8px' }}>\n                                                    <img\n                                                        src={post.image_url}\n                                                        alt=\"ÁèæÂ†¥ÂÜôÁúü\"\n                                                        style={{\n                                                            width: '100%',\n                                                            height: 'auto',\n                                                            borderRadius: '6px',\n                                                            objectFit: 'cover',\n                                                            maxHeight: '150px',\n                                                            border: '1px solid #eee'\n                                                        }}\n                                                    />\n                                                </div>\n                                            )}\n                                            <div style={{ fontSize: '12px', color: '#666', marginBottom: '8px' }}>\n                                                {[...(post.tags || []), ...(post.time_slot || []).map((t) => TIME_LABELS[t])].join('„Éª')}\n                                            </div>\n                                            <EmpathyButton\n                                                postId={post.id}\n                                                initialCount={post.empathy_count || 0}\n                                                postUserId={post.user_id}\n                                                onEmpathy={(newCount) => onPostUpdate?.(post.id, newCount)}\n                                            />\n                                            {isAdmin && (\n                                                <div style={{ marginTop: '10px', textAlign: 'center' }}>\n                                                    <button\n                                                        onClick={() => onAdminSelectPost?.(post)}\n                                                        style={{\n                                                            fontSize: '12px',\n                                                            padding: '4px 8px',\n                                                            background: '#2c3e50',\n                                                            color: 'white',\n                                                            border: 'none',\n                                                            borderRadius: '4px',\n                                                            cursor: 'pointer'\n                                                        }}\n                                                    >\n                                                        ÁÆ°ÁêÜË©≥Á¥∞„ÇíÈñã„Åè\n                                                    </button>\n                                                </div>\n                                            )}\n                                        </div>\n                                    </Popup>\n                                </Marker>\n                            );\n                        })}\n                    </MarkerClusterGroup>\n                )}\n                <MapUpdater center={safeCenter} zoom={zoomLevel} />\n                <MapController onMapChange={onMapChange} />\n            </MapContainer>\n\n            {!showHeatmap && (\n                <div\n                    style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', zIndex: 1000, pointerEvents: 'none' }}\n                >\n                    <svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <circle cx=\"20\" cy=\"20\" r=\"18\" stroke=\"red\" strokeWidth=\"2\" strokeDasharray=\"4 2\" />\n                        <line x1=\"20\" y1=\"10\" x2=\"20\" y2=\"30\" stroke=\"red\" strokeWidth=\"2\" />\n                        <line x1=\"10\" y1=\"20\" x2=\"30\" y2=\"20\" stroke=\"red\" strokeWidth=\"2\" />\n                    </svg>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}